<?xml version="1.0" encoding="utf-8" ?>




<ContentPage xmlns="http://xamarin.com/schemas/2014/forms"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    
             xmlns:forms="clr-namespace:FFImageLoading.Svg.Forms;assembly=FFImageLoading.Svg.Forms"
                    xmlns:main="clr-namespace:BankReport.Views;assembly=BankReport"
             x:Class="BankReport.Views.BankDetailsPage"
             NavigationPage.HasNavigationBar="False"
             
                 BackgroundColor="{StaticResource HeaderMenoColor}">

    <AbsoluteLayout BackgroundColor="{StaticResource HeaderMenoColor}"  >
        <Grid  RowDefinitions="70,4*" BackgroundColor="{StaticResource HeaderMenoColor}" >
            <FlexLayout x:Name="headerFlexLayout" Grid.Row="0" FlowDirection="RightToLeft" Direction="Row" JustifyContent="SpaceBetween" BackgroundColor="{StaticResource HeaderMenoColor}">
                <Button x:Name="ButtonLogo" Text="" FontSize="30"
                        HorizontalOptions="End"
                        VerticalOptions="End"
                        TextColor="{StaticResource TexHeaderMenoColor}"
                        BackgroundColor="Transparent"/>
                <Grid ColumnDefinitions="2*,4*">
                    <Button Text="☰" FontSize="Medium"
                            Clicked="Button_OpenMenu_OnClicked"
                              Grid.Column="0"
                            TextColor="{StaticResource TexHeaderMenoColor}"
                            BackgroundColor="Transparent"/>
                    <Label Text="گزارش بانکی " 
                           TextColor="White"
                           FontSize="Subtitle"
                           VerticalOptions="Center"
                           Grid.Column="1"
                    />
           
                
                
                </Grid>
           

            </FlexLayout>

            <ScrollView Grid.Row="1">
                
                <StackLayout Margin="0,0,0,0" Orientation="Vertical" HorizontalOptions="Center" VerticalOptions="Center">
                    <Grid HeightRequest="60" Margin="0,0,0,10">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <Label 
                            Text="  گزارش کلی" 
                            TextColor="White"
                            FontSize="22"
                            HorizontalOptions="Start"
                            VerticalOptions="Center"
                            FontAttributes="Bold"
      
                        />
                        <ImageButton Grid.Column="1" 
                                     Source="icons8backarrow64.png" 
                                     HeightRequest="50"
                                     BackgroundColor="Transparent"
                                     HorizontalOptions="End"
                                     VerticalOptions="Center"
                                     Padding="0"
                                     x:Name="BackButton"
                                     Clicked="BackButton_Clicked"
                                     />

                    </Grid>



                    <StackLayout Padding="20">
                        <Picker Title="انتخاب حساب"
                ItemsSource="{Binding CardNumbers}"
                ItemDisplayBinding="{Binding Number}"
                SelectedItem="{Binding SelectedCardNumbers}" />

                        <Label Text="{Binding SelectedCardNumbers.Name, StringFormat='حساب انتخاب شده: {0}'}"
               FontSize="Large"
               TextColor="Blue" />
                    </StackLayout>

                    <ListView ItemsSource="{Binding BankTransaction}" 
          x:Name="ItemsListView"
          HasUnevenRows="True"
          SeparatorVisibility="None">

                        <!-- Header جدول -->
                        <ListView.Header>
                            <Grid Padding="5" BackgroundColor="#EEEEEE">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="50" />
                                    <ColumnDefinition Width="100" />
                                    <ColumnDefinition Width="100" />
                                    <ColumnDefinition Width="100" />
                                    <ColumnDefinition Width="*" />
                                </Grid.ColumnDefinitions>

                                <Label Grid.Column="0" Text="ردیف" FontAttributes="Bold" FontSize="Micro" HorizontalTextAlignment="End"/>
                                <Label Grid.Column="1" Text="تاریخ" FontAttributes="Bold" FontSize="Micro"/>
                                <Label Grid.Column="2" Text="مبلغ" FontAttributes="Bold" FontSize="Micro"/>
                                <Label Grid.Column="3" Text="نوع" FontAttributes="Bold" FontSize="Micro"/>
                                <Label Grid.Column="4" Text="توضیحات" FontAttributes="Bold" FontSize="Micro"/>
                            </Grid>
                        </ListView.Header>

                        <!-- آیتم‌ها -->
                        <ListView.ItemTemplate>
                            <DataTemplate>
                                <ViewCell>
                                    <Frame Padding="5" Margin="0,0,0,1" BackgroundColor="White" HasShadow="True" CornerRadius="5">
                                        <Grid Padding="5">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="50" />
                                                <ColumnDefinition Width="100" />
                                                <ColumnDefinition Width="100" />
                                                <ColumnDefinition Width="100" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>

                                            <Label Grid.Column="0" Text="{Binding Row}" FontSize="Micro" HorizontalTextAlignment="End"/>
                                            <Label Grid.Column="1" Text="{Binding Date}" FontSize="Micro"/>
                                            <Label Grid.Column="2" Text="{Binding Amount}" FontSize="Micro"/>
                                            <Label Grid.Column="3" Text="{Binding Type}" FontSize="Micro"/>
                                            <Label Grid.Column="4" Text="{Binding Desc}" FontSize="Micro"/>
                                        </Grid>
                                    </Frame>
                                </ViewCell>
                            </DataTemplate>
                        </ListView.ItemTemplate>
                    </ListView>


                    <!--<Grid ColumnDefinitions="*,*,*,*,*" >-->
                        <!--<Label TextColor="Black" HorizontalTextAlignment="Start"  Margin="10,0" FontSize="Micro" Text="شماره حساب" Grid.Column="0"/>
                        <Label TextColor="Black" HorizontalTextAlignment="End" FontSize="Micro" Text="{Binding BankTransaction.BankName}" Grid.Column="1"/>
                    </Grid>

                    <Grid ColumnDefinitions="*,*" >
                        <Label TextColor="Black" HorizontalTextAlignment="Start"  Margin="10,0"  FontSize="Micro" Text="موجودی" Grid.Column="0"/>
                        <Label TextColor="Black" HorizontalTextAlignment="End" FontSize="Micro" Text="{Binding BankTransaction.Amout}" Grid.Column="1"/>
                    </Grid>



                    <Grid ColumnDefinitions="*,*" >
                        <Label TextColor="Black" HorizontalTextAlignment="Start"  Margin="10,0"  FontSize="Micro" Text="مبلغ خرج شده در این ماه" Grid.Column="0"/>
                        <Label TextColor="Black" HorizontalTextAlignment="End" FontSize="Micro" Text="{Binding BankTransaction.MonyOutOfMonth}" Grid.Column="1"/>
                    </Grid>


                    <Grid ColumnDefinitions="*,*" >
                        <Label TextColor="Black" HorizontalTextAlignment="Start"  Margin="10,0"  FontSize="Micro" Text="بلغ خرج شده در این روز " Grid.Column="0"/>
                        <Label TextColor="Black" HorizontalTextAlignment="End" FontSize="Micro" Text="{Binding BankTransaction.MonyOutOfDay}" Grid.Column="1"/>
                    </Grid>


                    <Grid ColumnDefinitions="*,*" >
                        <Label TextColor="Black" HorizontalTextAlignment="Start"  Margin="10,0"  FontSize="Micro" Text="مبلغ ورودی در این ماه" Grid.Column="0"/>
                        <Label TextColor="Black" HorizontalTextAlignment="End" FontSize="Micro" Text="{Binding BankTransaction.MonyComOfMonth}" Grid.Column="1"/>
                    </Grid>


                    <Grid ColumnDefinitions="*,*" >
                        <Label TextColor="Black" HorizontalTextAlignment="Start"  Margin="10,0"  FontSize="Micro" Text="بلغ ورودی  در این روز " Grid.Column="0"/>
                        <Label TextColor="Black" HorizontalTextAlignment="End" FontSize="Micro" Text="{Binding BankTransaction.MonyComOfDay}" Grid.Column="1"/>
                    </Grid>-->
                </StackLayout>
            </ScrollView>
   


        </Grid>
        <main:MenuBarCustomContent x:Name="menuBarCustomContent" />



        <!-- Loading Overlay -->



    </AbsoluteLayout>








</ContentPage>


